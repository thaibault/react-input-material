diff --git a/index.js b/index.js
index fb808d9dbe6b07125fc2d73dcbdc9eef066aa006..610e4f04cb40144bf478baa365061252bf34c0a8 100644
--- a/index.js
+++ b/index.js
@@ -1 +1 @@
-"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const f=require("react/jsx-runtime"),s=require("react"),P=require("@rmwc/base"),S=require("@rmwc/provider"),j=require("@material/ripple"),B=t=>{const i=s.useRef(!1),{foundation:n,...l}=P.useFoundation({props:t,elements:{rootEl:!0,surfaceEl:!0},foundation:({rootEl:e,surfaceEl:E,getProps:N})=>new j.MDCRippleFoundation({addClass:r=>{E.addClass(r)},browserSupportsCssVars:()=>j.util.supportsCssVariables(window),computeBoundingRect:()=>e.ref?e.ref.getBoundingClientRect():P.emptyClientRect,containsEventTarget:r=>!!e.ref&&e.ref.contains(r),deregisterDocumentInteractionHandler:(r,b)=>document.documentElement.removeEventListener(r,b),deregisterInteractionHandler:(r,b)=>{},deregisterResizeHandler:r=>window.removeEventListener("resize",r),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset}),isSurfaceActive:()=>e.ref?P.matches(e.ref,":active"):!1,isSurfaceDisabled:()=>!!N().disabled,removeClass:r=>{E.removeClass(r)},isUnbounded:()=>!!N().unbounded,registerDocumentInteractionHandler:(r,b)=>document.documentElement.addEventListener(r,b,{passive:!0}),registerInteractionHandler:(r,b)=>{},registerResizeHandler:r=>window.addEventListener("resize",r),updateCssVariable:(r,b)=>E.setStyle(r,b)})}),{rootEl:o}=l,a=s.useCallback(e=>{e.persist(),n.activate(e)},[n]),c=s.useCallback(e=>{e.persist(),n.deactivate()},[n]),{onFocus:p}=t,h=s.useCallback(e=>{p==null||p(e),n.handleFocus()},[n,p]),{onBlur:u}=t,v=s.useCallback(e=>{u==null||u(e),n.handleBlur()},[n,u]),{onMouseDown:C}=t,d=s.useCallback(e=>{C==null||C(e),i.current||a(e),i.current=!1},[C,a]),{onMouseUp:R}=t,k=s.useCallback(e=>{R==null||R(e),c(e)},[R,c]),{onTouchStart:m}=t,w=s.useCallback(e=>{i.current=!0,m==null||m(e),a(e)},[m,a]),{onTouchEnd:y}=t,F=s.useCallback(e=>{y==null||y(e),c(e)},[y,c]),{onKeyDown:g}=t,H=s.useCallback(e=>{g==null||g(e),a(e)},[g,a]),{onKeyUp:x}=t,q=s.useCallback(e=>{x==null||x(e),c(e)},[x,c]);return o.setProp("onFocus",h,!0),o.setProp("onBlur",v,!0),o.setProp("onMouseDown",d,!0),o.setProp("onMouseUp",k,!0),o.setProp("onTouchStart",w,!0),o.setProp("onTouchEnd",F,!0),o.setProp("onKeyDown",H,!0),o.setProp("onKeyUp",q,!0),s.useEffect(()=>{n.setUnbounded(!!t.unbounded)},[t.unbounded,n]),s.useEffect(()=>{t.disabled&&n.handleBlur()},[t.disabled,n]),{...l}},T=s.createContext({});function D(t){const{children:i,className:n,primary:l,accent:o,unbounded:a,surface:c,foundationRef:p,...h}=t,{rootEl:u,surfaceEl:v}=B(t),C=S.useProviderContext(),d=s.Children.only(i);if(!C.ripple)return f.jsx(f.Fragment,{children:i});if(!s.isValidElement(d))return null;const R=!c||!a,k=a?{"data-mdc-ripple-is-unbounded":!0}:{},m=R?v.props({style:d.props.style}):{};let w=P.classNames(n!==d.props.className&&n,m.className,d.props.className,{"mdc-ripple-surface":typeof c=="boolean"?c:c===void 0,"mdc-ripple-surface--primary":l,"rmwc-ripple-surface--primary":l,"mdc-ripple-surface--accent":o,"rmwc-ripple-surface--accent":o});h.disabled&&(w=w.replace("mdc-ripple-upgraded--background-focused",""));const y=s.cloneElement(d,{ref:u.reactRef,...d.props,...k,...u.props({...h,style:d.props.style,...m,className:w})});return f.jsx(T.Provider,{value:v.props({style:d.props.style}),children:y})}const I=({className:t,...i})=>f.jsx(T.Consumer,{children:n=>f.jsx("div",{...i,...n,className:`${t} ${n.className||""}`})}),O=({unbounded:t,accent:i,surface:n}={})=>l=>{const o=s.forwardRef(({ripple:a,...c},p)=>{const h=S.useProviderContext();a=a??h.ripple;const u=typeof a!="object"?{}:a;return a?f.jsx(D,{...c,accent:u.accent||i,unbounded:u.unbounded||t,surface:u.surface||n,children:f.jsx(l,{...c,ref:p})}):f.jsx(l,{...c,ref:p})});return o.displayName=`withRipple(${l.displayName||l.constructor.name||"Unknown"})`,o};exports.Ripple=D;exports.RippleSurface=I;exports.withRipple=O;
+"use strict";var mergeRefs = function(a,b) { return function(el) { if (typeof a === 'function') a(el); else if (a && 'current' in a) a.current = el;if (typeof b === 'function') b(el); else if (b && 'current' in b) b.current = el}};Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const f=require("react/jsx-runtime"),s=require("react"),P=require("@rmwc/base"),S=require("@rmwc/provider"),j=require("@material/ripple"),B=t=>{const i=s.useRef(!1),{foundation:n,...l}=P.useFoundation({props:t,elements:{rootEl:!0,surfaceEl:!0},foundation:({rootEl:e,surfaceEl:E,getProps:N})=>new j.MDCRippleFoundation({addClass:r=>{E.addClass(r)},browserSupportsCssVars:()=>j.util.supportsCssVariables(window),computeBoundingRect:()=>e.ref?e.ref.getBoundingClientRect():P.emptyClientRect,containsEventTarget:r=>!!e.ref&&e.ref.contains(r),deregisterDocumentInteractionHandler:(r,b)=>document.documentElement.removeEventListener(r,b),deregisterInteractionHandler:(r,b)=>{},deregisterResizeHandler:r=>window.removeEventListener("resize",r),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset}),isSurfaceActive:()=>e.ref?P.matches(e.ref,":active"):!1,isSurfaceDisabled:()=>!!N().disabled,removeClass:r=>{E.removeClass(r)},isUnbounded:()=>!!N().unbounded,registerDocumentInteractionHandler:(r,b)=>document.documentElement.addEventListener(r,b,{passive:!0}),registerInteractionHandler:(r,b)=>{},registerResizeHandler:r=>window.addEventListener("resize",r),updateCssVariable:(r,b)=>E.setStyle(r,b)})}),{rootEl:o}=l,a=s.useCallback(e=>{e.persist(),n.activate(e)},[n]),c=s.useCallback(e=>{e.persist(),n.deactivate()},[n]),{onFocus:p}=t,h=s.useCallback(e=>{p==null||p(e),n.handleFocus()},[n,p]),{onBlur:u}=t,v=s.useCallback(e=>{u==null||u(e),n.handleBlur()},[n,u]),{onMouseDown:C}=t,d=s.useCallback(e=>{C==null||C(e),i.current||a(e),i.current=!1},[C,a]),{onMouseUp:R}=t,k=s.useCallback(e=>{R==null||R(e),c(e)},[R,c]),{onTouchStart:m}=t,w=s.useCallback(e=>{i.current=!0,m==null||m(e),a(e)},[m,a]),{onTouchEnd:y}=t,F=s.useCallback(e=>{y==null||y(e),c(e)},[y,c]),{onKeyDown:g}=t,H=s.useCallback(e=>{g==null||g(e),a(e)},[g,a]),{onKeyUp:x}=t,q=s.useCallback(e=>{x==null||x(e),c(e)},[x,c]);return o.setProp("onFocus",h,!0),o.setProp("onBlur",v,!0),o.setProp("onMouseDown",d,!0),o.setProp("onMouseUp",k,!0),o.setProp("onTouchStart",w,!0),o.setProp("onTouchEnd",F,!0),o.setProp("onKeyDown",H,!0),o.setProp("onKeyUp",q,!0),s.useEffect(()=>{n.setUnbounded(!!t.unbounded)},[t.unbounded,n]),s.useEffect(()=>{t.disabled&&n.handleBlur()},[t.disabled,n]),{...l}},T=s.createContext({});function D(t){const{children:i,className:n,primary:l,accent:o,unbounded:a,surface:c,foundationRef:p,...h}=t,{rootEl:u,surfaceEl:v}=B(t),C=S.useProviderContext(),d=s.Children.only(i);if(!C.ripple)return f.jsx(f.Fragment,{children:i});if(!s.isValidElement(d))return null;const R=!c||!a,k=a?{"data-mdc-ripple-is-unbounded":!0}:{},m=R?v.props({style:d.props.style}):{};let w=P.classNames(n!==d.props.className&&n,m.className,d.props.className,{"mdc-ripple-surface":typeof c=="boolean"?c:c===void 0,"mdc-ripple-surface--primary":l,"rmwc-ripple-surface--primary":l,"mdc-ripple-surface--accent":o,"rmwc-ripple-surface--accent":o});h.disabled&&(w=w.replace("mdc-ripple-upgraded--background-focused",""));const y=s.cloneElement(d,{mergeRefs(d.ref, ref:u.reactRef),...d.props,...k,...u.props({...h,style:d.props.style,...m,className:w})});return f.jsx(T.Provider,{value:v.props({style:d.props.style}),children:y})}const I=({className:t,...i})=>f.jsx(T.Consumer,{children:n=>f.jsx("div",{...i,...n,className:`${t} ${n.className||""}`})}),O=({unbounded:t,accent:i,surface:n}={})=>l=>{const o=s.forwardRef(({ripple:a,...c},p)=>{const h=S.useProviderContext();a=a??h.ripple;const u=typeof a!="object"?{}:a;return a?f.jsx(D,{...c,accent:u.accent||i,unbounded:u.unbounded||t,surface:u.surface||n,children:f.jsx(l,{...c,ref:p})}):f.jsx(l,{...c,ref:p})});return o.displayName=`withRipple(${l.displayName||l.constructor.name||"Unknown"})`,o};exports.Ripple=D;exports.RippleSurface=I;exports.withRipple=O;
diff --git a/index.mjs b/index.mjs
index f24d5d06f21f50cce9d9ca334d35d6771f9b1033..4930dc7e576dc63df6d8b24c501223d455d22c9d 100644
--- a/index.mjs
+++ b/index.mjs
@@ -3,6 +3,7 @@ import C, { useRef as z, useCallback as l, useEffect as D } from "react";
 import { useFoundation as L, emptyClientRect as O, matches as V, classNames as k } from "@rmwc/base";
 import { useProviderContext as F } from "@rmwc/provider";
 import { MDCRippleFoundation as M, util as $ } from "@material/ripple";
+var mergeRefs = function(a,b) { return function(el) { if (typeof a === 'function') a(el); else if (a && 'current' in a) a.current = el;if (typeof b === 'function') b(el); else if (b && 'current' in b) b.current = el}};
 const j = (t) => {
   const d = z(!1), { foundation: n, ...i } = L({
     props: t,
@@ -129,7 +130,7 @@ function K(t) {
     ""
   ));
   const R = C.cloneElement(u, {
-    ref: c.reactRef,
+    ref: mergeRefs(u.ref, c.reactRef),
     ...u.props,
     ...E,
     ...c.props({
